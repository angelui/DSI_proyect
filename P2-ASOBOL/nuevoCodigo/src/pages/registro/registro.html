<!--
  Generated template for the RegistroPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Registro</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-label>Seleccione el tipo de usuario:</ion-label>
  <ion-item>
    <ion-label class="nombre_toggle">Paciente</ion-label>
    <ion-toggle [(ngModel)]="paciente" (ionChange)="actualizarPaciente()"></ion-toggle>
  </ion-item>
  <ion-item>
    <ion-label class="nombre_toggle">Doctor</ion-label>
    <ion-toggle [(ngModel)]="doctor" (ionChange)="actualizarDoctor()"></ion-toggle>
  </ion-item>
  
  <form *ngIf="doctor" (ngSubmit)="onAddDoctor()" class="formulario_registro" [formGroup]="formularioDoctor">
    <ion-label>Rellene el siguiente formulario:</ion-label>
    <ion-item>
      <ion-label class="titulos_campos">Nombre*</ion-label>
      <ion-input class="entradas" formControlName="nombre" type="text" placeholder="Nombre" name="nombre" [(ngModel)]="doctorValue.nombre" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('nombre').errors && formularioDoctor.get('nombre').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('nombre').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Apellidos*</ion-label>
      <ion-input class="entradas" formControlName="apellidos" type="text" placeholder="Apellidos" name="apellidos" [(ngModel)]="doctorValue.apellidos" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('apellidos').errors && formularioDoctor.get('apellidos').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('apellidos').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Correo electrónico*</ion-label>
      <ion-input class="entradas" formControlName="correoElectronico" type="email" placeholder="Correo electrónico" name="correo_registro" [(ngModel)]="doctorValue.correoElectronico" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('correoElectronico').errors && formularioDoctor.get('correoElectronico').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('correoElectronico').hasError('required')">Campo obligatorio.</p>
      <p color="danger" ion-text *ngIf="formularioDoctor.get('correoElectronico').hasError('email')">Formato incorrecto.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Contraseña*</ion-label>
      <ion-input class="entradas" formControlName="contrasena" type="password" placeholder="Contraseña" name="contraseña_registro" [(ngModel)]="doctorValue.contrasena" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('contrasena').errors && formularioDoctor.get('contrasena').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('contrasena').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Teléfono</ion-label>
      <ion-input class="entradas" formControlName="telefono" type="tel" placeholder="Teléfono" name="telefono" [(ngModel)]="doctorValue.telefono"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('telefono').errors && formularioDoctor.get('telefono').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('telefono').hasError('pattern')">Campo numérico de 9 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Años de experiencia</ion-label>
      <ion-input class="entradas" formControlName="anosExperiencia" type="number" placeholder="Años de experiencia" name="experiencia" [(ngModel)]="doctorValue.anosExperiencia"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('anosExperiencia').errors && formularioDoctor.get('anosExperiencia').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('anosExperiencia').hasError('pattern')">Campo numérico de 2 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Número de colegiado*</ion-label>
      <ion-input class="entradas" formControlName="numeroColegiado" type="number" placeholder="Número de colegiado" name="colegiado" [(ngModel)]="doctorValue.numeroColegiado" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('numeroColegiado').errors && formularioDoctor.get('numeroColegiado').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('numeroColegiado').hasError('required')">Campo obligatorio.</p>
      <p color="danger" ion-text *ngIf="formularioDoctor.get('numeroColegiado').hasError('pattern')">Campo numérico de 9 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Centro de trabajo</ion-label>
      <ion-input class="entradas" formControlName="centro" type="text" placeholder="Centro de trabajo" name="centro_trabajo" [(ngModel)]="doctorValue.centro"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Especialidad*</ion-label>
      <ion-input class="entradas" formControlName="especialidad" type="text" placeholder="Especialidad" name="especialidad" [(ngModel)]="doctorValue.especialidad" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioDoctor.get('especialidad').errors && formularioDoctor.get('especialidad').dirty">
      <p color="danger" ion-text *ngIf="formularioDoctor.get('especialidad').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-label class="etiqueta_obligatorio">*Campo obligatorio</ion-label>
    <button class="boton" ion-button block type="submit" [disabled]="!formularioPaciente.valid">Aceptar</button>
  </form>

  <form *ngIf="paciente" (ngSubmit)="onAddPaciente()" class="formulario_registro" [formGroup]="formularioPaciente">
    <ion-label>Rellene el siguiente formulario:</ion-label>
    <ion-list>
    <ion-item>
      <ion-label class="titulos_campos">Nombre*</ion-label>
      <ion-input class="entradas" formControlName="nombre" type="text" placeholder="Nombre" name="nombre" [(ngModel)]="pacienteValue.nombre" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('nombre').errors && formularioPaciente.get('nombre').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('nombre').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Apellidos*</ion-label>
      <ion-input class="entradas" formControlName="apellidos" type="text" placeholder="Apellidos" name="apellidos" [(ngModel)]="pacienteValue.apellidos" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('apellidos').errors && formularioPaciente.get('apellidos').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('apellidos').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Correo electrónico*</ion-label>
      <ion-input class="entradas" formControlName="correoElectronico" type="email" placeholder="Correo electrónico" name="correo_registro" [(ngModel)]="pacienteValue.correoElectronico" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('correoElectronico').errors && formularioPaciente.get('correoElectronico').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('correoElectronico').hasError('required')">Campo obligatorio.</p>
      <p color="danger" ion-text *ngIf="formularioPaciente.get('correoElectronico').hasError('email')">Formato incorrecto.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Contraseña*</ion-label>
      <ion-input class="entradas" formControlName="contrasena" type="password" placeholder="Contraseña" name="contraseña_registro" [(ngModel)]="pacienteValue.contrasena" required></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('contrasena').errors && formularioPaciente.get('contrasena').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('contrasena').hasError('required')">Campo obligatorio.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Teléfono</ion-label>
      <ion-input class="entradas" formControlName="telefono" type="tel" placeholder="Teléfono" name="telefono" [(ngModel)]="pacienteValue.telefono"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('telefono').errors && formularioPaciente.get('telefono').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('telefono').hasError('required')">Campo obligatorio.</p>
      <p color="danger" ion-text *ngIf="formularioPaciente.get('telefono').hasError('pattern')">Campo numérico de 9 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Estautura (cm)</ion-label>
      <ion-input class="entradas" formControlName="estatura" type="number" placeholder="Estatura" name="estatura" [(ngModel)]="pacienteValue.estatura"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('estatura').errors && formularioPaciente.get('estatura').dirty">
        <p color="danger" ion-text *ngIf="formularioPaciente.get('estatura').hasError('pattern')">Campo numérico de 3 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Peso (kg)</ion-label>
      <ion-input class="entradas" formControlName="peso" type="number" placeholder="Peso" name="peso" [(ngModel)]="pacienteValue.peso"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('peso').errors && formularioPaciente.get('peso').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('peso').hasError('pattern')">Campo numérico de 9 dígitos.</p>
    </ion-item>
    <ion-item>
      <ion-label class="titulos_campos">Año de nacimiento</ion-label>
      <ion-input class="entradas" formControlName="anoNacimiento" type="number" placeholder="Año de nacimiento" name="nacimiento" [(ngModel)]="pacienteValue.anoNacimiento" onchange="comprobarAno()"></ion-input>
    </ion-item>
    <ion-item *ngIf="formularioPaciente.get('anoNacimiento').errors && formularioPaciente.get('anoNacimiento').dirty">
      <p color="danger" ion-text *ngIf="formularioPaciente.get('anoNacimiento').hasError('required')">Campo obligatorio.</p>
      <p color="danger" ion-text *ngIf="formularioPaciente.get('anoNacimiento').hasError('pattern')">Campo numérico de 4 dígitos.</p>
    </ion-item>
    </ion-list>
    <ion-label class="etiqueta_obligatorio">*Campo obligatorio</ion-label>
    <button class="boton" ion-button block type="submit" [disabled]="!formularioPaciente.valid">Aceptar</button>
  </form>
</ion-content>

